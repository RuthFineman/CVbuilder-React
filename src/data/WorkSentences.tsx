import debounce from "lodash.debounce";
import { useEffect, useState } from "react";
import '../styles/ReadySentences.css';
const sentences: Record<string, string[]> = {
  "מתכנת": [
    "פיתח והטמיע מערכת לניהול נתונים בזמן אמת, לייעול תהליך הזנת הנתונים ומתן תמיכת לקוחות יעילה יותר.",
    "בנה מערכת להזנת הזמנות אינטרנטית, שהובילה לצמצום משמעותי בזמן שירות לקוחות.",
    "תכנן, פיתח ותחזק תוכנות מחשב למגוון יישומים.",
    "כתב ותחזק יישומי אינטרנט בשפות כמו HTML, CSS, JavaScript.",
    "ניהל מסדי נתונים באמצעות SQL ו-Oracle.",
    "יישם תכנות מונחה עצמים ליצירת קוד יעיל וניתן לתחזוקה.",
    "ביצע ניפוי שגיאות ובדיקות לשיפור ביצועי תוכנה קיימת."
  ],
  "מנקה": [
    "ביצע משימות ניקיון מגוונות במבני משרדים ברחבי העיר.",
    "הקפיד על שמירת ניקיון וסדר בכל שטחי המבנה.",
    "הפגין תשומת לב לפרטים והבטיח ניקיון יסודי.",
    "רוקן פסולת ומיחזור על בסיס יומי.",
    "פעל לפי תקני בטיחות ובריאות בעבודה.",
    "השתמש בציוד וחומרי ניקוי לחיטוי יסודי.",
    "שמר על רמת ניקיון גבוהה באופן קבוע.",
    "סיפק שירות אדיב ללקוחות ומבקרים.",
    "ניהל זמן ומשימות ביעילות להשלמת עבודה.",
    "שיתף פעולה עם צוות להבטחת איכות העבודה."
  ],
  "מורה": [
    "לימדה כיתה של 30 תלמידים במקצועות הליבה במשך שלוש שנים.",
    "פיתחה מערך שיעורים מקיף לכלל הכיתות.",
    "יצרה סביבת למידה בטוחה ומטפחת.",
    "הטמיעה מערכת ניהול כיתה ממוקדת תלמידים.",
    "שיתפה פעולה עם צוותים חינוכיים לקידום הוראה חדשנית.",
    "שילבה טכנולוגיה לחיזוק תהליכי למידה.",
    "העריכה את התקדמות התלמידים ודיווחה להורים.",
    "ארגנה טיולים ופעילויות חוץ לימודיות.",
    "עודדה מוטיבציה והשראה בקרב התלמידים.",
    "השתתפה בהכשרות מקצועיות לעדכון שיטות הוראה."
  ],
  "מזכירה": [
    "ניהלה פרויקטים אדמיניסטרטיביים מורכבים ביעילות גבוהה.",
    "הובילה פיתוח ויישום נהלים לשיפור פרודוקטיביות.",
    "טיפלה במידע רגיש באופן דיסקרטי ומאובטח.",
    "תמכה במחלקות וצוותים ברמת הנהלה בכירה.",
    "הפגינה כישורי ארגון, פתרון בעיות ותקשורת מעולים.",
    "שלטה בטכנולוגיות משרד מודרניות ומערכות מידע.",
    "יישמה אסטרטגיות ארגוניות לפרויקטים מוצלחים.",
    "תיאמה לוגיסטיקה לאירועים ופגישות בקנה מידה גדול.",
    "פיתחה קשרי עבודה עם ספקים, לקוחות וצוות.",
    "עמדה בלוחות זמנים צפופים תוך ריבוי משימות."
  ],
  "עורך דין": [
    "ייצג לקוחות בנושאים משפטיים וחברתיים בצורה מקצועית.",
    "בנה אסטרטגיות משפטיות מותאמות אישית לצרכי הלקוח.",
    "העניק ללקוחות הדרכה בתהליכים משפטיים מורכבים.",
    "חיזק מיומנויות תקשורת ופתרון בעיות של לקוחות.",
    "שיתף פעולה עם אנשי מקצוע לתכנון תמיכה משפטית וחברתית.",
    "ערך מחקרים למציאת משאבים משפטיים זמינים.",
    "טיפח קשרים עם גופים מקומיים לשיפור שירותים ללקוח.",
    "ייצג לקוחות בהליכים משפטיים באופן יעיל.",
    "עדכן את הלקוחות באופן שוטף על זכויותיהם.",
    "השתמש בגישות יצירתיות להתמודדות עם אתגרים משפטיים."
  ],
  "רואה חשבון": [
    "ניהל תהליכי חשבונאות מלאים לתיק לקוחות מגוון.",
    "פיתח ותחזק מדיניות ונהלים חשבונאיים.",
    "סייע בהכנת דוחות כספיים ותחזיות.",
    "ביצע התאמות בנקאיות ותזרימי מזומנים חודשיים.",
    "פיקח על חיובים ועמידה בזמנים.",
    "הטמיע בקרות פנימיות לשמירה על דיוק פיננסי.",
    "הכין והגיש דוחות מס לפי תקנות.",
    "יישם מערכות חשבונאיות חדשות.",
    "השתתף בבניית תחזיות פיננסיות.",
    "ניהל חשבונות זכאים וחשבונות לפירעון."
  ]
};
const WorkSentences = ({ onSelect }: { onSelect: (sentence: string) => void; }) => {
  const [search, setSearch] = useState("");
  const [matched, setMatched] = useState<string[]>([]);
  const [searchTerm, setSearchTerm] = useState("");
  const [filteredSentences, setFilteredSentences] = useState<string[]>([]);

  
  const handleSearch = debounce((term: string) => {
    const matchedKeys = Object.keys(sentences).filter((key) =>
      key.startsWith(term)
    );
    const allMatches = matchedKeys.flatMap((key) => sentences[key]);
    setFilteredSentences(allMatches);
  }, 200);
  useEffect(() => {
    if (searchTerm.trim() === "") {
      setFilteredSentences([]);
      return;
    }
    handleSearch(searchTerm.trim());
  }, [searchTerm]);

  return (
    <div className="ready-sentences" >
      <input
        className="sentence-input"
        type="text"
        placeholder="הכנס תפקיד (למשל: מתכנת, מורה...)"
        value={searchTerm}
        onChange={(e) => setSearchTerm(e.target.value)}
      />
      <ul className="sentence-list">
        {filteredSentences.map((sentence, index) => (
          <li
            key={index}
            onClick={() => onSelect(sentence)}
            className="sentence-item"
          >
            {sentence}
          </li>
        ))}
      </ul>
      {matched.map((sentence, index) => (
        <div
          key={index}
          onClick={() => onSelect(sentence)}
        >
          {sentence}
        </div>
      ))}
      {matched.length === 0 && search && <div>אין תוצאות עבור "{search}"</div>}
    </div>
  );
};
export default WorkSentences

